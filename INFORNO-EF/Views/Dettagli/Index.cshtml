@model IEnumerable<INFORNO_EF.Models.Dettagli>

@{
    ViewBag.Title = "Index";
}


<h2>Carrello</h2>

@if (ViewBag.ErrorMessage != null)
{
    <p>@ViewBag.ErrorMessage</p>
}
else
{
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Ordini.IndirizzoSpedizione)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Pizze.Nome)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Quantita)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Ordini.IndirizzoSpedizione)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Pizze.Nome)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Quantita)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = item.IdDettaglio }) |
                    @Html.ActionLink("Details", "Details", new { id = item.IdDettaglio }) |
                    @Html.ActionLink("Delete", "Delete", new { id = item.IdDettaglio })
                </td>
            </tr>

            Session["OrderId"] = item.FKOrdine;
        }

    </table>
    @Html.ActionLink("Concludi ordine", "Details", "Ordini", new { id = Session["OrderId".ToString()] }, new { @class = "btn btn-primary" })
    @Html.ActionLink("Continua ad ordinare", "Index", "Home", new { area = "" }, new { @class = "btn btn-primary" })

}

